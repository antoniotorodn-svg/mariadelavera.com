---
interface Props {
  name?: string;
  location?: string;
  description?: string;
  buttons?: { text: string; href: string }[];
  videoId?: string;
  videoHash?: string;
  // Backward compat with old interface
  badge?: string;
  title?: string;
  titleAccent?: string;
  subtitle?: string;
  showVideo?: boolean;
  showImage?: boolean;
  ctaPrimary?: { text: string; href: string };
  ctaSecondary?: { text: string; href: string };
  proofItems?: string[];
}

const props = Astro.props;

// Map old props to new ones
const name = props.name || props.title || "Mar√≠a De la Vera | Nutricionista";
const location = props.location || props.titleAccent || "Boadilla del Monte";
const description = props.description || props.subtitle || "En mi consulta de nutrici√≥n te ofrezco un acompa√±amiento cercano y profesional. Trabajo contigo desde la primera sesi√≥n para ayudarte a mejorar tu alimentaci√≥n, alcanzar tus objetivos de salud y crear h√°bitos sostenibles. Cada proceso es √∫nico, por eso dise√±o un plan personalizado que se adapta a ti y a tu ritmo.";
const buttons = props.buttons || [
  { text: "Proceso", href: "#proceso" },
  { text: "Precios", href: "#precios" },
  { text: "Reserva cita", href: "#reservar" },
  { text: "WhatsApp", href: "https://wa.me/34611438679" }
];
const videoId = props.videoId || "1137833163";
const videoHash = props.videoHash || "7317f4af36";
---

<section class="hero">
  <div>
    <h1>{name}</h1>
    <div class="hero-location">{location}</div>
    <div class="hero-btns">
      {buttons.map(btn => (
        <a href={btn.href} class="hero-btn">{btn.text}</a>
      ))}
    </div>
    <p class="hero-desc">{description}</p>
  </div>
  <div class="hero-media">
    <div class="hero-video">
      <iframe
        src={`https://player.vimeo.com/video/${videoId}?h=${videoHash}&autoplay=1&loop=1&muted=1&background=1`}
        allow="autoplay; fullscreen"
        allowfullscreen
        loading="lazy"
      ></iframe>
    </div>
  </div>
</section>

<!-- Trust badges -->
<div class="trust">
  <div class="trust-item">
    <span class="trust-icon">üéì</span>
    <div><strong>Colegiada MAD01182</strong> ‚Äì <span>Dietista-Nutricionista titulada por la Universidad CEU San Pablo.</span></div>
  </div>
  <div class="trust-item">
    <span class="trust-icon">‚≠ê</span>
    <div><strong>5.0 en Google con +700 pacientes</strong> ‚Äì <span>Resultados reales respaldados por la confianza de mis pacientes.</span></div>
  </div>
</div>

<style>
  .hero {
    display: grid;
    grid-template-columns: 7fr 3fr;
    gap: 48px;
    align-items: center;
    max-width: 1100px;
    margin: 0 auto;
    padding: 56px 40px;
  }

  .hero h1 {
    font-family: 'DM Serif Display', Georgia, serif;
    font-size: 2.4em;
    font-weight: 400;
    line-height: 1.2;
    margin-bottom: 8px;
  }

  .hero-location {
    font-size: 1.1em;
    font-weight: 600;
    color: var(--text-light);
    margin-bottom: 20px;
  }

  .hero-btns {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 24px;
  }

  .hero-btn {
    padding: 10px 24px;
    border-radius: 100px;
    font-size: 0.88em;
    font-weight: 700;
    border: 2px solid var(--gold-light);
    background: var(--gold-light);
    color: var(--text);
    transition: all 0.2s;
    text-decoration: none;
  }

  .hero-btn:hover {
    background: var(--gold);
    color: white;
    border-color: var(--gold);
  }

  .hero-desc {
    font-size: 0.95em;
    color: var(--text-light);
    line-height: 1.7;
  }

  .hero-video {
    width: 280px;
    height: 500px;
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 0 12px 40px rgba(0,0,0,0.1);
  }

  .hero-video iframe {
    width: 100%;
    height: 100%;
    border: none;
  }

  .hero-media {
    display: flex;
    justify-content: center;
  }

  .trust {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    max-width: 900px;
    margin: 0 auto;
    padding: 0 24px 48px;
  }

  .trust-item {
    display: flex;
    gap: 10px;
    align-items: flex-start;
  }

  .trust-icon {
    font-size: 1.2em;
    flex-shrink: 0;
    margin-top: 2px;
  }

  .trust-item strong { font-size: 0.9em; }
  .trust-item span { font-size: 0.85em; color: var(--text-light); }

  @media (max-width: 900px) {
    .hero {
      grid-template-columns: 1fr;
      padding: 24px 16px 20px;
      gap: 20px;
      text-align: center;
    }
    .hero h1 { font-size: 1.5em; line-height: 1.25; }
    .hero-location { font-size: 0.9em; margin-bottom: 12px; }
    .hero-btns { justify-content: center; gap: 8px; margin-bottom: 16px; }
    .hero-btn { padding: 8px 16px; font-size: 0.78em; }
    .hero-desc { font-size: 0.85em; line-height: 1.6; }
    .hero-media { justify-content: center; }
    .hero-video { width: 200px; height: 356px; border-radius: 18px; }
    .trust { grid-template-columns: 1fr; gap: 12px; padding: 0 16px 28px; }
    .trust-item strong { font-size: 0.82em; }
    .trust-item span { font-size: 0.78em; }
  }

  @media (max-width: 420px) {
    .hero h1 { font-size: 1.3em; }
    .hero-location { font-size: 0.82em; }
    .hero-btn { padding: 7px 13px; font-size: 0.72em; }
    .hero-desc { font-size: 0.8em; }
    .hero-media { display: none; }
  }
</style>
