---
import BaseLayout from '../layouts/BaseLayout.astro';
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';
import Hero from '../components/Hero.astro';
import TestimonialCard from '../components/TestimonialCard.astro';
import PricingCard from '../components/PricingCard.astro';
import FAQAccordion from '../components/FAQAccordion.astro';
import CTABox from '../components/CTABox.astro';
import CalendlySection from '../components/CalendlySection.astro';
import ValueProposition from '../components/ValueProposition.astro';
import MaterialFormativo from '../components/MaterialFormativo.astro';
import BarrioTag from '../components/BarrioTag.astro';
import ServiceCard from '../components/ServiceCard.astro';
import barriosData from '../data/barrios.json';
import serviciosData from '../data/servicios.json';

const faqItems = [
  {
    question: "¬øQu√© se hace en la primera consulta?",
    answer: "En la primera consulta hacemos una entrevista completa sobre tu historial m√©dico, h√°bitos alimenticios, objetivos y preferencias. Analizamos tu composici√≥n corporal y dise√±amos una estrategia personalizada. Recibir√°s tu plan nutricional en 24-72h."
  },
  {
    question: "¬øQu√© se hace en las revisiones?",
    answer: "Evaluamos tu progreso, ajustamos el plan seg√∫n tus resultados y resolvemos dudas. Las revisiones son clave para mantener la motivaci√≥n y adaptar la estrategia a tu evoluci√≥n."
  },
  {
    question: "¬øCada cu√°nto se hacen las revisiones?",
    answer: "Recomiendo revisiones cada 21 d√≠as para un seguimiento √≥ptimo. Este intervalo permite ver cambios significativos y hacer ajustes efectivos sin perder el ritmo."
  },
  {
    question: "¬øTrabajas con personas veganas o vegetarianas?",
    answer: "S√≠, adapto los planes a cualquier patr√≥n alimentario: vegano, vegetariano, flexitariano, etc. Lo importante es que el plan sea equilibrado y cubra todas tus necesidades nutricionales."
  },
  {
    question: "¬øC√≥mo son los planes que mandas?",
    answer: "Planes 100% personalizados con men√∫s semanales, recetas detalladas, lista de la compra y material educativo. Todo adaptado a tus gustos, horarios y objetivos. Nada de planes gen√©ricos."
  },
  {
    question: "¬øNecesito tomar alg√∫n tipo de suplemento?",
    answer: "Depende de cada caso. Primero valoro tu alimentaci√≥n y anal√≠ticas. Solo recomiendo suplementaci√≥n cuando es realmente necesaria y est√° justificada. La base siempre es la comida real."
  }
];

const testimonials = [
  {
    quote: "Mar√≠a es una profesional excepcional. Desde el primer momento me sent√≠ muy c√≥moda y en confianza. Me ha ayudado a mejorar mi relaci√≥n con la comida y a entender mejor mi cuerpo. Sus planes son muy personalizados y f√°ciles de seguir. ¬°100% recomendada!",
    author: "Luc√≠a Garc√≠a",
    rating: 5
  },
  {
    quote: "Llevo varios meses con Mar√≠a y estoy encantada. Ha sabido adaptarse perfectamente a mis necesidades y objetivos. Los men√∫s son variados, ricos y nada aburridos. Adem√°s, el material educativo que proporciona es genial para aprender a comer bien. Sin duda, la mejor decisi√≥n que he tomado.",
    author: "Ana Mart√≠nez",
    rating: 5
  },
  {
    quote: "Muy contenta con el seguimiento de Mar√≠a. Es muy cercana, resuelve todas mis dudas por WhatsApp y las revisiones son muy completas. He notado un cambio enorme tanto f√≠sico como en energ√≠a. Totalmente recomendable.",
    author: "Carmen L√≥pez",
    rating: 5
  },
  {
    quote: "Mar√≠a es una gran profesional. Me ayud√≥ mucho con mis problemas digestivos. Despu√©s de a√±os sin encontrar soluci√≥n, con su plan personalizado he mejorado much√≠simo. Es atenta, emp√°tica y se nota que le apasiona su trabajo.",
    author: "Pedro S√°nchez",
    rating: 5
  },
  {
    quote: "Fui a Mar√≠a buscando perder peso y no solo lo consegu√≠, sino que aprend√≠ a comer de verdad. Nunca me he sentido a dieta. Sus recetas son riqu√≠simas y los men√∫s s√∫per pr√°cticos. Es la primera nutricionista con la que realmente he visto resultados duraderos.",
    author: "Marta Fern√°ndez",
    rating: 5
  },
  {
    quote: "Excelente profesional. Mar√≠a se toma el tiempo de conocerte, entender tu estilo de vida y adaptar todo a ti. No es un plan gen√©rico, de verdad se nota que est√° hecho a medida. Adem√°s, es muy motivadora y siempre est√° disponible. Muy recomendable.",
    author: "Javier Ruiz",
    rating: 5
  },
  {
    quote: "Acud√≠ a Mar√≠a por recomendaci√≥n y ha sido un acierto total. Me ha ense√±ado a organizar mis comidas, a hacer la compra de forma inteligente y a disfrutar comiendo sano. Las revisiones cada 21 d√≠as son perfectas para mantener el ritmo.",
    author: "Isabel Torres",
    rating: 5
  },
  {
    quote: "Mar√≠a me ha ayudado con la nutrici√≥n deportiva y los resultados han sido incre√≠bles. Ha adaptado mi alimentaci√≥n a mis entrenamientos y competiciones. Mi rendimiento ha mejorado notablemente. Es muy profesional y cercana.",
    author: "David Moreno",
    rating: 5
  },
  {
    quote: "Despu√©s de probar con varios nutricionistas, encontr√© a Mar√≠a y por fin siento que estoy en buenas manos. Su enfoque es diferente: no se trata solo de perder peso, sino de aprender y cambiar h√°bitos para siempre. Los resultados hablan por s√≠ solos.",
    author: "Sara Jim√©nez",
    rating: 5
  },
  {
    quote: "Muy buena experiencia con Mar√≠a. Desde la primera consulta se nota su profesionalidad y dedicaci√≥n. Me sent√≠ escuchada y comprendida. El plan que me prepar√≥ es muy completo y f√°cil de seguir. Estoy muy contenta con los resultados.",
    author: "Rosa Navarro",
    rating: 5
  }
];

const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqItems.map(item => ({
    "@type": "Question",
    "name": item.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": item.answer
    }
  }))
};
---

<BaseLayout
  title="Nutricionista en Boadilla del Monte | Mar√≠a De la Vera ¬∑ Colegiada MAD01182"
  description="Nutricionista colegiada en Boadilla del Monte. P√©rdida de peso, nutrici√≥n deportiva, salud digestiva y hormonal. Consulta presencial en Centro M√©dico Arboleda y online. Primera consulta 50‚Ç¨."
  schema={faqSchema}
>
  <Nav slot="nav" />

  <!-- 1. Hero -->
  <Hero
    name="Mar√≠a De la Vera"
    role="Nutricionista"
    location="Boadilla del Monte"
    description="Con m√°s de 700 pacientes atendidos, ayudo a personas como t√∫ a alcanzar su mejor versi√≥n a trav√©s de la nutrici√≥n. Consulta presencial en Centro M√©dico Arboleda o modalidad online. Sin dietas milagro, solo educaci√≥n nutricional y planes 100% personalizados."
    benefits={[
      { emoji: "üéì", text: "Colegiada MAD01182" },
      { emoji: "‚≠ê", text: "5.0 en Google" },
      { emoji: "üë•", text: "+700 pacientes" },
      { emoji: "üìç", text: "Centro M√©dico Arboleda" }
    ]}
  />

  <!-- 2. Servicios -->
  <section class="section" id="servicios">
    <div class="container">
      <div class="section-intro">
        <h2 class="text-center">Servicios de nutrici√≥n en Boadilla del Monte</h2>
        <p class="text-center section-intro__text">
          Consultas personalizadas de nutrici√≥n y diet√©tica, presenciales y online. Cada plan se adapta a tus objetivos, gustos y estilo de vida.
        </p>
      </div>

      <div class="grid grid--3">
        {serviciosData.map(servicio => (
          <ServiceCard
            emoji={servicio.emoji}
            title={servicio.title}
            description={servicio.shortDesc}
            href={`/${servicio.slug}`}
          />
        ))}
        <ServiceCard
          emoji="üíª"
          title="Consulta online"
          description="Misma calidad desde cualquier lugar de Espa√±a, por Google Meet"
          href="/nutricionista-online"
        />
      </div>
    </div>
  </section>

  <!-- 3. Proceso / C√≥mo funciona -->
  <section class="section section--alt" id="proceso">
    <div class="container">
      <div class="section-intro">
        <h2 class="text-center">C√≥mo funciona</h2>
        <p class="text-center section-intro__text">
          Un proceso sencillo y transparente, pensado para que desde el primer d√≠a sepas exactamente qu√© esperar.
        </p>
      </div>

      <div class="grid grid--3">
        <div class="card step-card">
          <div class="step-card__number">01</div>
          <h3>Primera consulta</h3>
          <p>
            Nos conocemos en persona o por videollamada. Hago una <strong>entrevista completa</strong> sobre tu historial m√©dico, h√°bitos alimenticios, rutina diaria, gustos y objetivos.
          </p>
          <p>
            Realizamos un <strong>an√°lisis de composici√≥n corporal</strong> (peso, grasa, masa muscular) para tener datos objetivos de partida.
          </p>
          <p class="step-card__price">
            <strong>50‚Ç¨</strong> ¬∑ 60 min aprox.
          </p>
        </div>

        <div class="card step-card">
          <div class="step-card__number">02</div>
          <h3>Tu plan en 24-72h</h3>
          <p>
            Con toda la informaci√≥n recogida, dise√±o un <strong>plan nutricional 100% personalizado</strong>: men√∫s semanales adaptados a tus horarios, recetas f√°ciles y una lista de la compra organizada.
          </p>
          <p>
            Adem√°s recibir√°s <strong>material educativo</strong> para que entiendas el porqu√© de cada decisi√≥n y aprendas a comer bien de forma aut√≥noma.
          </p>
          <p class="step-card__detail">
            Lo recibes todo por email en formato digital.
          </p>
        </div>

        <div class="card step-card">
          <div class="step-card__number">03</div>
          <h3>Revisiones cada 21 d√≠as</h3>
          <p>
            Nos vemos cada 3 semanas para <strong>evaluar tu progreso</strong>, resolver dudas y ajustar el plan seg√∫n tus resultados y c√≥mo te sientes.
          </p>
          <p>
            Este intervalo es el √≥ptimo: suficiente para ver <strong>cambios reales</strong> y poder hacer ajustes efectivos sin perder el ritmo.
          </p>
          <p class="step-card__price">
            <strong>40‚Ç¨/revisi√≥n</strong> ¬∑ 30 min aprox.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- 3. Precios -->
  <section class="section" id="precios">
    <div class="container">
      <div class="section-intro">
        <h2 class="text-center">Precios</h2>
      </div>

      <div class="grid grid--2" style="max-width: 900px; margin: 0 auto;">
        <PricingCard
          title="Consulta individual"
          price="50‚Ç¨"
          description="Ideal para empezar o si prefieres ir sesi√≥n por sesi√≥n."
          features={[
            "Primera consulta completa (50‚Ç¨)",
            "Plan nutricional personalizado",
            "Material de apoyo y recetas",
            "Revisiones a 40‚Ç¨ cada 21 d√≠as"
          ]}
          ctaText="Reservar primera consulta"
        />

        <PricingCard
          title="Pack 4 sesiones"
          price="140‚Ç¨"
          description="La opci√≥n m√°s elegida: compromiso y ahorro desde el inicio."
          features={[
            "Primera consulta + 3 revisiones",
            "Plan nutricional personalizado",
            "Seguimiento durante 2 meses",
            "Ahorro de 30‚Ç¨ vs pago individual"
          ]}
          highlighted={true}
          savings="30‚Ç¨"
          ctaText="Reservar pack completo"
        />
      </div>
    </div>
  </section>

  <!-- 4. Ubicaci√≥n / Contacto -->
  <section class="section section--alt" id="ubicacion">
    <div class="container">
      <div class="section-intro">
        <h2 class="text-center">D√≥nde estoy</h2>
      </div>

      <div class="grid grid--2" style="max-width: 900px; margin: 0 auto; align-items: start;">
        <div class="card">
          <div class="card-header-icon">üìç</div>
          <h3>Direcci√≥n</h3>
          <p>
            <strong>Centro M√©dico Arboleda</strong><br>
            Av. Siglo XXI, 13, local 13/14<br>
            28660 Boadilla del Monte, Madrid
          </p>
          <p>
            <strong>Metro Ligero:</strong> ML2 (a 5 min andando)
          </p>
          <p style="margin-bottom: 0;">
            <strong>Parking:</strong> Gratuito en el centro
          </p>
        </div>

        <div class="card">
          <div class="card-header-icon">üìû</div>
          <h3>Contacto</h3>
          <p>
            <strong>WhatsApp:</strong> <a href="https://wa.me/34690917004" target="_blank" rel="noopener">690 917 004</a>
          </p>
          <p>
            <strong>Email:</strong> <a href="mailto:nutricionista@nutricionistaenboadilla.com">nutricionista@nutricionistaenboadilla.com</a>
          </p>
          <p style="margin-bottom: 0;">
            <strong>Horario:</strong> Lunes a Viernes 9:00-20:00h
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- 5. Reservar cita con Calendly -->
  <CalendlySection />

  <!-- 6. ¬øPor qu√© elegir mi consulta? -->
  <section class="section section--alt">
    <div class="container">
      <div class="section-intro">
        <h2 class="text-center">¬øPor qu√© elegir mi consulta?</h2>
      </div>
      <ValueProposition />
    </div>
  </section>

  <!-- 7. FAQ -->
  <section class="section" id="faq">
    <div class="container">
      <div class="section-intro">
        <h2 class="text-center">Preguntas frecuentes</h2>
      </div>

      <div style="max-width: 800px; margin: 0 auto;">
        <FAQAccordion items={faqItems} />
      </div>
    </div>
  </section>

  <!-- 8. Testimonios -->
  <section class="section section--alt" id="testimonios">
    <div class="container">
      <div class="section-intro">
        <h2 class="text-center">Lo que dicen mis pacientes</h2>
        <p class="text-center section-intro__text">
          M√°s de 700 pacientes han transformado su relaci√≥n con la comida. Estos son algunos de sus testimonios.
        </p>
      </div>

      <div class="grid grid--2" style="max-width: 900px; margin: 0 auto;">
        {testimonials.map(testimonial => (
          <TestimonialCard
            quote={testimonial.quote}
            author={testimonial.author}
            rating={testimonial.rating}
          />
        ))}
      </div>
    </div>
  </section>

  <!-- 9. Sobre m√≠ -->
  <section class="section" id="sobre-mi">
    <div class="container">
      <div class="about-grid">
        <div class="about-content">
          <h2>Hola, soy Mar√≠a De la Vera</h2>
          <p>
            Dietista-Nutricionista colegiada <strong>MAD01182</strong>. Graduada por la <strong>Universidad CEU San Pablo</strong> y con M√°ster en Nutrici√≥n Cl√≠nica por <strong>UDIMA</strong>.
          </p>
          <p>
            M√°s de <strong>700 pacientes atendidos</strong> desde 2023. Ahora en <strong>Boadilla del Monte</strong> (Centro M√©dico Arboleda).
          </p>
          <p>
            Mi enfoque: <strong>educaci√≥n nutricional</strong> y planes 100% personalizados. Sin dietas milagro. Consulta <strong>presencial</strong> u <strong>online</strong>.
          </p>
        </div>

        <div class="about-image">
          <div class="about-image-placeholder">
            <span style="font-size: 5rem;">üë©‚Äç‚öïÔ∏è</span>
            <p style="color: var(--color-text-secondary); font-style: italic; text-align: center; font-size: 0.875rem;">
              Foto de Mar√≠a<br>(subir imagen)
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 10. Material formativo -->
  <section class="section section--alt" id="material-formativo">
    <div class="container">
      <div class="section-intro">
        <h2 class="text-center">Material formativo incluido</h2>
        <p class="text-center section-intro__text">
          Todos mis pacientes reciben material educativo de calidad para entender la nutrici√≥n desde la ciencia y aplicarla en su d√≠a a d√≠a.
        </p>
      </div>
      <MaterialFormativo />
    </div>
  </section>

  <!-- 11. Barrios -->
  <section class="section" id="barrios">
    <div class="container">
      <div class="section-intro">
        <h2 class="text-center">Zonas de Boadilla</h2>
      </div>

      <div class="barrios-grid">
        {barriosData.map(barrio => (
          <BarrioTag name={barrio.name} href={`/${barrio.slug}`} />
        ))}
        <BarrioTag name="Consulta online" href="/nutricionista-online" />
      </div>
    </div>
  </section>

  <!-- 12. CTA Final -->
  <CTABox
    title="¬øListo para empezar?"
    description="Reserva tu primera consulta y da el primer paso hacia tus objetivos de salud."
    ctaText="Reservar cita ahora"
    ctaHref="#reservar"
    variant="trust"
  />

  <Footer slot="footer" />
</BaseLayout>

<style>
  /* Section intro styling */
  .section-intro {
    margin-bottom: var(--spacing-xl);
  }

  .section-intro h2 {
    font-family: var(--font-display);
    margin-bottom: var(--spacing-sm);
  }

  .section-intro__text {
    color: var(--color-text-secondary);
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    font-size: 1.0625rem;
  }

  /* Step cards */
  .step-card {
    text-align: left;
    position: relative;
    padding-top: var(--spacing-xl);
  }

  .step-card__number {
    font-family: var(--font-display);
    font-size: 2.5rem;
    color: #e8e8e8;
    position: absolute;
    top: var(--spacing-lg);
    right: var(--spacing-lg);
    line-height: 1;
    font-weight: 400;
  }

  .step-card h3 {
    font-family: var(--font-display);
    font-size: 1.3rem;
    margin-bottom: var(--spacing-sm);
  }

  .step-card p {
    font-size: 0.9375rem;
    margin-bottom: var(--spacing-sm);
  }

  .step-card__price {
    color: #1a1a1a !important;
    font-weight: 600;
    font-size: 0.9375rem;
    padding-top: var(--spacing-sm);
    border-top: 1px solid #f0f0f0;
    margin-top: var(--spacing-sm);
    margin-bottom: 0 !important;
  }

  .step-card__detail {
    font-style: italic;
    font-size: 0.875rem !important;
    color: var(--color-text-secondary);
  }

  /* Card header icon */
  .card-header-icon {
    font-size: 1.5rem;
    margin-bottom: var(--spacing-sm);
  }
</style>
